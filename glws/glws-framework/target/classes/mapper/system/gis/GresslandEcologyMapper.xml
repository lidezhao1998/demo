<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.gis.GresslandEcologyMapper">
    <resultMap type="com.ruoyi.system.domain.gis.GrasslandEcology" id="GrasslandEcology">
        <result property="gid" column="gid"/>
        <result property="item_code" column="item_code"/>
        <result property="item" column="item"/>
        <result property="section_code" column="section_code"/>
        <result property="section" column="section"/>
        <result property="generic_code" column="generic_code"/>
        <result property="generic" column="generic"/>
        <result property="bundle_code" column="bundle_code"/>
        <result property="bundle" column="bundle"/>
        <result property="status" column="status"/>
        <result property="color" column="color"/>
        <result property="province_name" column="province_name"/>
        <result property="area" column="area"/>
        <result property="id" column="id"/>
        <result property="centroid" column="centroid"/>
    </resultMap>
    <select id="getGressList" resultMap="GrasslandEcology">
        select gid,item_code,item,section_code,section,generic_code,generic,bundle_code,bundle,status
            color,province_name,area,id,centroid FROM grassland_ecology where status =1
        <if test="province_name != null and province_name != ''"> and province_name = #{province_name}</if>
        <if test="section != null and section != ''"> and section = #{section}</if>
        <if test="generic != null and generic != ''"> and generic = #{generic}</if>
        <if test="bundle != null and bundle != ''"> and bundle = #{bundle}</if>
        ${params.dataScope}
    </select>
    <select id="getSection" resultMap="GrasslandEcology">
        select section FROM grassland_ecology where status =1  group by section_code,section
    </select>
    <select id="getGeneric" resultMap="GrasslandEcology">
        select generic FROM grassland_ecology where status =1
        <if test="section != null and section != ''"> and section = #{section}</if>
        group by generic
    </select>
    <select id="getBundle" resultMap="GrasslandEcology">
        select bundle FROM grassland_ecology where status =1
        <if test="generic != null and generic != ''"> and generic = #{generic}</if>
        group by bundle
    </select>
    <select id="getProvince" resultMap="GrasslandEcology">
        select province_name FROM grassland_ecology where status =1 group by province_name
    </select>
    <select id="getGarssById" resultType="com.ruoyi.system.domain.gis.GrasslandEcology">
        select gid,item_code,item,section_code,section,generic_code,generic,bundle_code,bundle,status
            color,province_name,area,id,centroid FROM grassland_ecology where status =1 and id=#{id}
    </select>
</mapper>